!function(D,K,g){"use strict";var G="ht",f=D[G],h=f.Default,s=h.isTouchable,A=f.Color,r="px",S="0",O="innerHTML",Y="className",z="position",e="absolute",L="width",Z="height",V="left",M="top",q="right",p="bottom",m="max-width",X="max-height",w=null,H="none",N="",$=D.parseInt,v=D.setTimeout,x=h.getInternal(),J=h.animate,i=A.titleIconBackground,c=function(){return document},F=function(K){return c().createElement(K)},a=function(){return F("div")},n=function(){return F("canvas")},C=function(q,R,l){q.style.setProperty(R,l,w)},b=function(i,I){return i.style.getPropertyValue(I)},E=function(O,J){O.appendChild(J)},R=function(O,e){O.removeChild(e)},d=h.eventListenerOptionsFalse,l=(h.eventListenerOptionsTrue,function(u,_,j,B){u.addEventListener(_,j,B?d:d)}),Q=function(S){var O=S.scrollWidth,F=S.scrollHeight;return S===c().body&&(O=Math.max(O,c().documentElement.scrollWidth),F=Math.max(F,c().documentElement.scrollHeight)),{width:O,height:F}},j=function(y){var T=y.touches[0];return T?T:y.changedTouches[0]};x.addMethod(h,{panelExpandIcon:{width:16,height:16,comps:[{type:"triangle",rect:[4,4,10,8],background:i,rotation:3.14}]},panelCollapseIcon:{width:16,height:16,comps:[{type:"triangle",rect:[4,4,10,8],background:i}]},panelLockIcon:{width:100,height:100,comps:[{type:"roundRect",rect:[10,50,80,40],borderWidth:10,borderColor:i},{type:"shape",points:[37,45,37,20,37,13,43,13,63,13,69,13,70,19,70,44],segments:[1,2,3,2,3,2],borderWidth:10,borderColor:i}]},panelUnLockIcon:{width:100,height:100,comps:[{type:"roundRect",rect:[10,50,80,40],borderWidth:10,borderColor:i},{type:"shape",points:[37,45,37,20,37,13,43,13,63,13,69,13,70,19,70,26],segments:[1,2,3,2,3,2],borderWidth:10,borderColor:i}]},panelMinimizeIcon:{width:100,height:100,comps:[{type:"shape",points:[10,35,35,35,35,10],segments:[1,2,2],borderWidth:8,borderColor:i},{type:"shape",points:[90,35,65,35,65,10],segments:[1,2,2],borderWidth:8,borderColor:i},{type:"shape",points:[10,65,35,65,35,90],segments:[1,2,2],borderWidth:8,borderColor:i},{type:"shape",points:[65,90,65,65,90,65],segments:[1,2,2],borderWidth:8,borderColor:i}]},panelRestoreIcon:{width:300,height:300,comps:[{type:"rect",rect:[10,24,268,56],background:i},{type:"rect",rect:[10,118,268,56],background:i},{type:"rect",rect:[10,213,268,56],background:i}]},panelTitleLabelColor:h.labelSelectColor,panelTitleLabelFont:h.labelFont,panelContentLabelFont:h.labelFont,panelTitleBackground:A.titleBackground,panelSeparatorWidth:1,panelSeparatorColor:g},!0);var T=f.widget.Panel=function(I){var i=this,O=i._view=x.createView(null,i);i.$1i=0,i.$18i=new f.Notifier,i.$2i="leftTop",C(O,M,S),C(O,V,S),C(O,z,e),C(O,"overflow","hidden"),i._interactor=new P(i),i.setConfig(I),i.addEventListener(function(H){var x=i.getPanelConfig(H.id),r=x.content;("beginRestore"===H.kind||"betweenResize"===H.kind||"endToggle"===H.kind)&&(r&&r.invalidate&&r.invalidate(),x.items&&x.items.forEach(function(a){a&&a.content&&a.content.invalidate&&a.content.invalidate()}))})};h.def(T,K,{ms_v:1,_dragContainment:"parent",setConfig:function(i){function v(g){g.expanded=!g.expanded,U.togglePanel(g.id,!0,!0)}if(i){for(var U=this,W=U._view.parentNode;this._view.children.length;)this._view.removeChild(this._view.children[0]);U._config=i,U.$35i=[],i.expanded==w&&(i.expanded=i.expand!=w?i.expand:!0);var $=U._view,l=U.$24i(i,$,!0),d=l[2],G=i.width;U.$35i.push(l[1]),i.items&&i.items.forEach(function(q){q.expanded==w&&(q.expanded=q.expand!=w?q.expand:!0);var x=U.$24i(q,d.children[0]);U.$35i.push(x[1])});var T=a();C(T,L,10+r),C(T,Z,10+r),C(T,z,e),C(T,p,S),C(T,q,S),T[Y]="resize-area",E($,T),U.$10i(),i.flowLayout&&C($,z,"relative"),C($,"opacity",S),E(c().body,$),G==w&&(G=$.offsetWidth),C($,L,G+r),C($,m,G+r);var O=i.content;O&&O.isSelfViewEvent&&(O.setX(0),O.setY(0),O.setWidth(G-2*(i.borderWidth||0)),O.setHeight(i.contentHeight)),i.items&&i.items.forEach(function(p){v(p)}),i.buttons&&i.buttons.indexOf("toggle")<0||v(i),i.minimized==w&&i.minimize!=w&&(i.minimized=i.minimize),i.minimized&&i.minimizable!==!1&&U.minimize(!0),R(c().body,$),C($,"opacity",N),W&&E(W,$),U.iv()}},getPanelConfig:function(z){var h=this,d=h._config,S=d.items;if(d.id===z)return d;if(S)for(var q=0;q<S.length;q++){var I=S[q];if(I.id===z)return I}},getPanelView:function(l){for(var B=this,J=B.$35i,U=0;U<J.length;U++){var u=J[U],K=u.parentNode;if(K.$15i===l)return K}},setDragContainment:function(X){this._dragContainment=X},getDragContainment:function(){return this._dragContainment},$20i:function(){var X=this._config,f=X.restoreIconSize||24;return f},$5i:function(g){var e=g.titleIconSize||16;return s&&(e*=1.2),e},$4i:function(W){var i=W.titleHeight||h.widgetTitleHeight;return i},setTitle:function(s,b){if(b==w&&(b=this._config.id),b!=w){var e=this.getPanelConfig(b),W=this.getPanelView(b);e.title=s,W.querySelector(".panel-title span").innerHTML=s}},setInnerPanel:function(a){var k,z,I=this,f=a.id,x=I.$35i,H=!1;if(a.expanded==w&&(a.expanded=!0),f!=w){var g=I.getPanelConfig(f);if(g){H=!0;var T,e=I.getPanelView(f),i=e.parentNode,u=e.children[0];if(e!==I._view){I.$11i();for(T in g)delete g.key;for(T in a)g[T]=a[T];k=I.$24i(a,i,!1,e),z=k[1],i.removeChild(e);for(var M=0;M<x.length;M++)if(x[M]===u){x.splice(M,1,z);break}I.$12i(),g.expanded=!g.expanded,I.togglePanel(g.id,!0,!0),I.iv()}}}if(!H){I.$11i(),k=I.$24i(a,I._view.children[1]),z=k[1],x.push(z),I._config.items||(I._config.items=[]);var X=I._config.items;if(X.push(a),I.$12i(),X.length>1){var Y=X[X.length-2],c=I.getPanelView(Y.id).children[0];C(c,"border-bottom",I.$55i(Y))}a.expanded=!a.expanded,I.togglePanel(a.id,!0,!0),I.iv()}},removeInnerPanel:function(y){var $,S=this,b=-1,L=S._config.items;if(L)for($=0;$<L.length;$++){var M=L[$];if(M.id===y){b=$;break}}if(S.$11i(),b>=0){var Q=S.$35i,P=S.getPanelView(y),G=P.children[0];for($=0;$<Q.length;$++)if(Q[$]===G){Q.splice($,1);break}L.splice(b,1),P.parentNode.removeChild(P)}if(S.$12i(),L.length>0){var w=L[L.length-1],Y=S.getPanelView(w.id).children[0];C(Y,"border-bottom",S.$55i(w))}},$6i:function(A){C(A,"cursor","pointer"),C(A,"display","inline-block"),C(A,"margin-right",(s?8:4)+r),C(A,"vertical-align",M)},$24i:function(T,U,q,_){var k=this,e=k._config.flowLayout,d=q?U:a(),W=k.$50i(T),K=k.$3i(T,q);d[Y]="ht-widget-panel"+(q?" outer-panel":" inner-panel"),T.borderWidth==w&&(T.borderWidth=q?2:0);var I=T.borderWidth;if(I="0 "+I+r+" "+I+r+" "+I+r+" ",C(d,"border-width",I),C(d,"border-color",T.titleBackground||h.panelTitleBackground),C(d,"border-style","solid"),E(d,K),E(d,W),q||(_?U.insertBefore(d,_):E(U,d)),!e&&q&&T.minimizable!==!1){var B=n(),p=k.$20i(),v=T.restoreToolTip;x.setCanvas(B,p,p),B[Y]="control-button button-minimize button-minimize-restore",k.$6i(B),C(B,"display","none"),E(U,B),B.title=v||""}var i=T.panelBackground||T.titleBackground||h.panelTitleBackground;if(C(d,"background-color",i),T.id==w){for(var m=k.$1i++;k.getPanelConfig(m);)m=k.$1i++;T.id=m}return d.$15i=T.id,T.width&&(d.style.width=T.width+r),[d,K,W]},$9i:function(u){var i=n();i[Y]="control-button button-toggle button-toggle-expand",i.title=u.toggleToolTip||"";var H=this.$4i(u),g=this.$5i(u);return this.$6i(i),x.setCanvas(i,g,H),i},$8i:function(E){var f=n(),F="control-button button-independent-switch";f[Y]=E.independent===!0?F+" button-independent-switch-on":F+" button-independent-switch-off",f.title=E.independentSwitchToolTip||"";var $=this.$4i(E),k=this.$5i(E);return this.$6i(f),x.setCanvas(f,k,$),f},$7i:function(A){var C=n();C[Y]="control-button button-minimize button-minimize-minimize",C.title=A.minimizeToolTip||"";var c=this.$4i(A),f=this.$5i(A);return this.$6i(C),x.setCanvas(C,f,c),C},$55i:function(Q){var H=this._config,D=H.items,p=Q.separatorWidth||h.panelSeparatorWidth,n=Q.titleBackground||h.panelTitleBackground,e=Q.expanded!==!1?n:Q.separatorColor||h.panelSeparatorColor||h.brighter(n);return(H===Q||D&&D.indexOf(Q)===D.length-1)&&(p=0),p+r+" solid "+e},$3i:function(N,W){var _=this,U=_._config.flowLayout,y=a(),G=a(),R=_.$4i(N),o=N.titleBackground,J=N.titleColor,I=N.titleIcon,Z=N.buttons;if(y[Y]="panel-title",C(y,z,"relative"),C(y,"background",o||h.panelTitleBackground),C(y,"color",J||h.panelTitleLabelColor),C(y,M,S),C(y,"box-sizing","border-box"),C(y,"-moz-box-sizing","border-box"),C(y,"padding","0 5px 0 0"),C(y,L,"100%"),C(y,"cursor","default"),C(y,"white-space","nowrap"),C(y,"font",h.panelTitleLabelFont),I){var T=n();T[Y]="control-button panel-title-icon";var g=_.$4i(N),H=_.$5i(N);_.$6i(T),x.setCanvas(T,H,g),E(y,T)}var m=F("span");C(m,"display","inline-block"),C(m,"margin-left","5px"),m[O]="<span>"+N.title+"</span>",E(y,m),C(y,"line-height",R+r),G[Y]="panel-title-controls",C(G,z,e),C(G,V,S),C(G,q,5+r),C(G,M,S),C(G,p,S),C(G,"text-align",q);var u=function(){var i=_.$9i(N);E(G,i)},b=function(){if(!U&&W&&N.minimizable!==!1){var Q=_.$7i(N);E(G,Q)}},K=function(){if(!W){var f=_.$8i(N);E(G,f)}},B=function(b){var z=n();z[Y]="control-button custombutton-"+b.name,z.title=b.toolTip||"",z._action=b.action;var O=_.$4i(N),g=_.$5i(N);_.$6i(z),x.setCanvas(z,g,O),E(G,z)};if(Z)for(var s=0;s<Z.length;s++){var i=Z[s];"string"==typeof i?"minimize"===i?b():"independentSwitch"===i?K():"toggle"===i&&u():"object"==typeof i&&B(i)}else b(),u();return E(y,G),y},$50i:function(A){var U=a(),N=A.contentHeight,t=a();C(t,z,"relative"),U[Y]="panel-body",C(U,"overflow","hidden");var f=A.contentBackground;if(f===g&&(f="white"),C(U,"background",f),C(U,"font",h.panelContentLabelFont),E(U,t),A.content){var J,I=A.content;I.getView?(E(t,I.getView()),J=t.children[0]):I instanceof Element?(E(t,I),J=t.children[0]):t[O]=I,I.isSelfViewEvent||J&&(C(J,L,"100%"),C(J,Z,"100%")),N&&C(t,Z,N+r)}return U},$10i:function(){var y=this,C=y._config,k=y._view,w=k.querySelector(".resize-area").style;w.display=C.flowLayout||C.minimized===!0||C.expanded===!1?H:"block"},$11i:function(){var $=this._view,c=$.children[1];this.$13i>=0?this.$13i++:this.$13i=1,C(c,X,N),C($,m,N)},$12i:function(){var L=--this.$13i;if(0===L){var v=this._view,Z=v.children[1];C(Z,X,Z.scrollHeight+r),C(v,m,v.offsetWidth+r)}},$14i:function(){var p=this._view,l=p.children[0],N=l.children[1].children,K=this._config,A=0;p.$26i=p.offsetWidth,A+=l.children[0].offsetWidth,K.titleIcon&&(A+=l.children[1].offsetWidth,N=l.children[2].children);for(var c=0;c<N.length;c++){var P=N[c];A+=P.offsetWidth+5}p.$51i=A+15},togglePanel:function(c,F,P){function y(U){var k=U.target,O=k.parentNode,K=i.getPanelConfig(O.$15i);delete O.$19i,k!==t&&i.$12i(),i.$18i.fire({kind:"endToggle",target:i,id:K.id})}for(var i=this,p=i._view,t=p.children[1],U=w,O=i.$35i,o=O.length,H=i._config.exclusive,$=i.$2i,A=[],D=i._config.narrowWhenCollapse,W=0;o>W;W++){var d=O[W],x=d.parentNode,I=x.$15i,k=i.getPanelConfig(I);I===c&&(U=x),!F&&H&&k.expanded&&x!==p&&I!==c&&k.independent!==!0&&A.push(x)}if(U&&!U.$19i){U.$19i=!0;var M=U.children[1],f=U.querySelector(".button-toggle"),R=i.getPanelConfig(U.$15i);if(!f)return;U===p||R.expanded||R.independent===!0||A.forEach(function(O){i.togglePanel(O.$15i,!0)}),U!==p&&i.$11i();var V=200;if(P&&(V=0),i.$18i.fire({kind:"beginToggle",target:i,id:U.$15i}),R.expanded){var s=function(){f[Y]="control-button button-toggle",f[Y]+=$.indexOf("Bottom")>=0?" button-toggle-expand":" button-toggle-collapse",C(M,L,M.clientWidth+r),R.expanded=!1,C(U.children[0],"border-bottom",i.$55i(R)),J(M).duration(V).set("opacity",S).set(X,S).end(y),D&&U===p&&J(U).duration(V).set(m,U.$51i+r).end(),U[Y]+=" panel-collapse",J(U).duration(V).set("padding-bottom",S).end(),i.$28i(R,!0),i.$10i()};D&&U===p&&i.$14i(),s()}else f[Y]="control-button button-toggle",f[Y]+=$.indexOf("Bottom")>=0?" button-toggle-collapse":" button-toggle-expand",C(M,L,N),R.expanded=!0,C(U.children[0],"border-bottom",i.$55i(R)),J(M).duration(V).set("opacity","1").set(X,M.scrollHeight+r).end(y),D&&U===p&&J(U).duration(V).set(m,(U.$26i||U.offsetWidth)+r).end(),U[Y]=U[Y].replace(" panel-collapse",N),J(U).duration(V).end(),i.$28i(R,!0),i.$10i()}},$16i:function(){var I=this._view,v=I.$22i,Z=I.$23i,r=this.$2i;return v==w&&(r.indexOf(V)>=0?v=I.$22i=0:r.indexOf(q)>=0&&(v=I.$22i=100)),Z==w&&(r.indexOf("Top")>=0?Z=I.$23i=0:r.indexOf("Bottom")>=0&&(Z=I.$23i=100)),[v,Z]},$25i:function(){var W=this,f=W._view,E=f.$21i,L=W.$20i(),_=W.$16i(),P=_[0],w=_[1],t=W.$2i;f.children[0].style.display=H,f.children[1].style.display=H,f.children[2].style.display=N,C(f,"padding",S),C(f,m,L+r),"leftTop"===t?(C(f,V,$(b(f,V))+(E.width-L)*P/100+r),C(f,M,$(b(f,M))+(E.height-L)*w/100+r)):"leftBottom"===t?(C(f,V,$(b(f,V))+(E.width-L)*P/100+r),C(f,p,$(b(f,p))+(E.height-L)*(1-w/100)+r)):"rightTop"===t?(C(f,q,$(b(f,q))+(E.width-L)*(1-P/100)+r),C(f,M,$(b(f,M))+(E.height-L)*w/100+r)):"rightBottom"===t&&(C(f,q,$(b(f,q))+(E.width-L)*(1-P/100)+r),C(f,p,$(b(f,p))+(E.height-L)*(1-w/100)+r)),f[Y]+=" panel-minimized",W.$18i.fire({kind:"endMinimize",target:W,id:f.$15i})},$17i:function(){var L=this,I=L._config,r=L._view;C(r,"-webkit-transform",N),C(r,"-ms-transform",N),C(r,"transform",N),I.minimized?L.$25i():(L.$18i.fire({kind:"endRestore",target:L,id:I.id}),r[Y]=r[Y].replace(" panel-minimized",N)),delete r.$19i},minimize:function(y){var N=this,V=N._view;if(!V.$19i&&V.children[0].style.display!==H){var Y=N._config,r=V.getBoundingClientRect(),z=N.$20i(),m=r.width,I=r.height,w=z/m,j=z/I,S=N.$16i(),b=S[0],s=S[1];V.$52i=w,V.$53i=j,V.$21i=r,N.$18i.fire({kind:"beginMinimize",target:N,id:V.$15i});var Z=200;y&&(Z=0),Y.minimized=!0,V.$19i=!0,Y.expanded&&(V.$26i=V.offsetWidth);var p=b+"% "+s+"%";C(V,"-webkit-transform-origin",p),C(V,"-ms-transform-origin",p),C(V,"transform-origin",p),J(V).duration(Z).scale(w,j).end(function(){N.$17i()}),N.$10i()}},restore:function(){var n,R,K,F,E,O,a,i,x,D,X,W,T=this,h=T._view,j=h.parentNode,s=T._config;if(!h.$19i&&s.minimized){var Y=h.$21i,I=h.$52i,t=h.$53i,d=(s.borderWidth+r,T.$20i()),A=Q(j),o=T.$2i;"leftTop"===o?(n=$(b(h,V)),K=$(b(h,M)),E=n,a=K,x=n+Y.width-A.width,D=K+Y.height-A.height,x>0&&(x>=n?n=0:n-=x),D>0&&(D>=K?K=0:K-=D),X=100*((E-n)/(Y.width-d)),W=100*((a-K)/(Y.height-d)),C(h,V,n+r),C(h,M,K+r)):"leftBottom"===o?(n=$(b(h,V)),F=$(b(h,p)),E=n,i=F,x=n+Y.width-A.width,D=F+Y.height-A.height,x>0&&(x>=n?n=0:n-=x),D>0&&(D>=F?F=0:F-=D),X=100*((E-n)/(Y.width-d)),W=100*(1-(i-F)/(Y.height-d)),C(h,V,n+r),C(h,p,F+r)):"rightTop"===o?(R=$(b(h,q)),K=$(b(h,M)),O=R,a=K,x=R+Y.width-A.width,D=K+Y.height-A.height,x>0&&(x>=R?R=0:R-=x),D>0&&(D>=K?K=0:K-=D),X=100*(1-(O-R)/(Y.width-d)),W=100*((a-K)/(Y.height-d)),C(h,q,R+r),C(h,M,K+r)):"rightBottom"===o&&(R=$(b(h,q)),F=$(b(h,p)),O=R,i=F,x=R+Y.width-A.width,D=F+Y.height-A.height,x>0&&(x>=R?R=0:R-=x),D>0&&(D>=F?F=0:F-=D),X=100*(1-(O-R)/(Y.width-d)),W=100*(1-(i-F)/(Y.height-d)),C(h,q,R+r),C(h,p,F+r)),h.children[0].style.display="block",h.children[1].style.display="block",h.children[2].style.display=H,C(h,"-webkit-transform","scale("+I+", "+t+")"),C(h,"-ms-transform","scale("+I+", "+t+")"),C(h,"transform","scale("+I+", "+t+")"),h.$22i=X,h.$23i=W,C(h,"-webkit-transform-origin",X+"% "+W+"%"),C(h,"-ms-transform-origin",X+"% "+W+"%"),C(h,"transform-origin",X+"% "+W+"%"),s.narrowWhenCollapse&&!s.expanded?C(h,m,h.$51i+r):C(h,m,h.$26i+r),T.$18i.fire({kind:"beginRestore",target:T,id:h.$15i}),h.$19i=!0,s.minimized=!1,v(function(){J(h).scale(1,1).end(function(){T.$17i()})},30),T.$10i()}},addEventListener:function(Z,_,A){this.$18i.add(Z,_,A)},removeEventListener:function(A,u){this.$18i.remove(A,u)},setPosition:function(H,T){var G=this._view,Q=this.$2i;"leftTop"===Q?(C(G,V,H+r),C(G,M,T+r),C(G,q,N),C(G,p,N)):"leftBottom"===Q?(C(G,V,H+r),C(G,p,T+r),C(G,q,N),C(G,M,N)):"rightTop"===Q?(C(G,q,H+r),C(G,M,T+r),C(G,V,N),C(G,p,N)):"rightBottom"===Q&&(C(G,q,H+r),C(G,p,T+r),C(G,V,N),C(G,M,N)),delete G.$22i,delete G.$23i},getPosition:function(){var C=this._view,a=this.$2i;return"leftTop"===a?{x:$(b(C,V)),y:$(b(C,M))}:"leftBottom"===a?{x:$(b(C,V)),y:$(b(C,p))}:"rightTop"===a?{x:$(b(C,q)),y:$(b(C,M))}:"rightBottom"===a?{x:$(b(C,q)),y:$(b(C,p))}:void 0},setPositionRelativeTo:function(u){var v=this,_=v._view.querySelectorAll(".button-toggle"),e="control-button button-toggle",E=v.getPosition();v.$2i=u,v.setPosition(E.x,E.y);for(var V=0;V<_.length;V++){var n=_[V],A=v.getPanelConfig(n.parentNode.parentNode.parentNode.$15i);n[Y]=A.expanded?u.indexOf("Bottom")>=0?e+" button-toggle-collapse":e+" button-toggle-expand":u.indexOf("Bottom")>=0?e+" button-toggle-expand":e+" button-toggle-collapse"}v.iv()},getPositionRelativeTo:function(){return this.$2i},invalidate:function(u){var F=this;F._68I||(F._68I=1,h.callLater(F.validate,F,w,u),F.onInvalidated&&F.onInvalidated(),F.fireViewEvent("invalidate"));var K=this._config,B=K.content;B&&B.invalidate&&B.invalidate(),K.items&&K.items.forEach(function(B){B&&B.content&&B.content.invalidate&&B.content.invalidate()})},getIconStretch:function(){var Q=this._config.iconStretch||"fill";return Q},$27i:function(P,q,z,M,b){var B=x.initContext(P);x.translateAndScale(B,0,0,1),B.clearRect(0,0,z,z);var w=(z-M)/2;h.drawStretchImage(B,h.getImage(q),this.getIconStretch(b),0,w,M,M),B.restore()},$28i:function(d){var s,Y,D,w=this,$=d.id,L=w.getPanelView($),c=L.querySelector(".button-toggle"),R=w.$2i.indexOf("Bottom")>=0;if(Y=R?h.panelCollapseIcon:h.panelExpandIcon,D=R?h.panelExpandIcon:h.panelCollapseIcon,c){s=d.expanded?h.getImage(D):h.getImage(Y);var G=w.$4i(d),_=w.$5i(d);w.$27i(c,s,G,_,"toggle")}},$29i:function(S){var j,s=this,n=S.id,g=s.getPanelView(n),_=g.querySelector(".button-independent-switch"),z=h.panelUnLockIcon,d=h.panelLockIcon;if(_){j=S.independent!==!0?h.getImage(d):h.getImage(z);var Z=s.$4i(S),M=s.$5i(S);s.$27i(_,j,Z,M,"switch")}},$30i:function(q){var d=this,g=q.id,Q=d.getPanelView(g),M=Q.querySelector(".button-minimize-minimize"),j=h.panelMinimizeIcon;if(M){var A=d.$4i(q),n=d.$5i(q);d.$27i(M,h.getImage(j),A,n,"miminize")}},$31i:function(A){var s=this,i=A.id,B=s.getPanelView(i),U=B.querySelector(".button-minimize-restore"),M=A.titleIcon||h.panelRestoreIcon;if(U){var u=s.$20i();s.$27i(U,h.getImage(M),u,u,"restore")}},$32i:function(m){var a=this,T=m.id,B=a.getPanelView(T);if(m.buttons){var w=m.buttons;w.forEach(function(v){var p=v.name,K=v.icon;if(p&&K){var G=B.querySelector(".custombutton-"+p);if(G){var g=a.$4i(m),n=a.$5i(m)-1;a.$27i(G,h.getImage(K),g,n,"custom")}}})}},$33i:function(H){var u=this,f=H.id,y=u.getPanelView(f),n=y.querySelector(".panel-title-icon"),d=H.titleIcon;if(n&&d){var l=u.$4i(H),M=u.$5i(H);u.$27i(n,h.getImage(d),l,M,"title")}},validateImpl:function(){var P=this,M=P._config;P.$28i(M),P.$30i(M),P.$31i(M),P.$32i(M),P.$33i(M),M.items&&M.items.forEach(function(o){P.$28i(o),P.$29i(o),P.$32i(o)})}});var P=function(w){var n=this,J=w.getView();n.$34i=w,n.addListeners(),l(J,"dblclick",n.$42i.bind(n))};h.def(P,K,{ms_listener:1,getView:function(){return this.$34i.getView()},clear:function(){delete this.$37i,delete this.$38i,delete this.$36i,delete this.$39i},$42i:function(B){for(var O=this.$34i,U=B.target,I=O.$35i,j=I.length,m=0;j>m;m++){var C=I[m];C.contains(U)&&(B.preventDefault(),O.togglePanel(C.parentNode.$15i))}},handle_touchstart:function(S){var G=this,I=G.$34i,T=I._config,b=T.flowLayout,c=S;if(h.preventDefault(S),h.isLeftButton(S)){var v=S.target,R=I.getView().children[0],M=I.getView().querySelector(".button-minimize-restore");s&&(c=j(S));var y=G.$40i={x:c.pageX,y:c.pageY};G.$41i={x:y.x,y:y.y},(!b&&R.contains(v)||M&&M.contains(v))&&(G.$38i=!0,h.startDragging(G,S)),!b&&G.handle_mousemove(S)&&(G.$37i=!0,h.startDragging(G,S),I.$11i())}},handle_mousedown:function(k){this.handle_touchstart(k)},handle_touchend:function(X){var A=this,m=A.$34i,I=X.target,L=m.$35i,y=L.length,V=0,Z=m.getView(),S=Z.querySelector(".button-minimize"),b=Z.querySelector(".button-minimize-restore");if(!A.$39i&&!A.$36i){if(S&&S.contains(I)||b&&b.contains(I))X.preventDefault(),m._config.minimized?m.restore():m.minimize();else for(;y>V;V++){var $=L[V],u=$.parentNode,n=u.$15i,q=m.getPanelConfig(n),W=$.querySelector(".button-toggle"),d=$.querySelector(".button-independent-switch");if(W===I)X.preventDefault(),m.togglePanel(n);else if(d===I){X.preventDefault();var N="button-independent-switch-off",z="button-independent-switch-on";q.independent=q.independent==w?!0:!q.independent,d[Y]=q.independent?d[Y].replace(N,z):d[Y].replace(z,N),m.$29i(q)}else I[Y]&&I[Y].indexOf("control-button custombutton-")>=0&&$.contains(I)&&I._action.call(m,q,m.getPanelView(n),X)}delete A.$40i,delete A.$41i}},handle_mouseup:function(f){this.handle_touchend(f)},handleWindowTouchEnd:function(){var x=this,e=x.$34i;x.$37i&&x.$36i?(e.$18i.fire({kind:"endResize",target:e,id:e.getView().$15i}),e.$12i()):x.$38i&&x.$39i&&e.$18i.fire({kind:"endMove",target:e,id:e.getView().$15i}),this.clear()},handleWindowMouseUp:function(V){this.handleWindowTouchEnd(V)},handle_mousemove:function(R){var p=this,n=p.getView(),m=n.querySelector(".resize-area"),D=m.getBoundingClientRect(),q={x:D.left,y:D.top,width:D.width,height:D.height};R=s?j(R):R;var w=R.clientX,A=R.clientY,G=p.$34i._config;return G.expanded&&G.minimized!==!0&&h.containsPoint(q,{x:w,y:A})?(n.style.cursor="nwse-resize",!0):(n.style.cursor=N,void 0)},handleWindowTouchMove:function(_){_.preventDefault();var l=_;s&&(l=j(_));var x=this,X=x.$40i,n=x.$41i;if(!(n.x==X.x&&n.y==X.y&&h.getDistance(n,{x:l.pageX,y:l.pageY})<=1)){var u=x.$34i,v=x.getView(),N=v.parentNode,G=u._config,g=G.resizeMode||"wh",E=l.pageX-X.x,w=l.pageY-X.y,Y=u.$2i;if(x.$37i){var d=v.children[1].children[0],k=v.offsetWidth,H=d.offsetHeight,z=k+E,P=H+w;z=Math.max(z,100),P=Math.max(P,100),"w"===g?(C(v,L,z+r),G.width=z):"h"===g?(C(d,Z,P+r),G.contentHeight=P):"wh"===g&&(C(v,L,z+r),C(d,Z,P+r),G.width=z,G.contentHeight=P),Y.indexOf("right")>=0&&C(v,q,$(b(v,q))-(z-k)+r),Y.indexOf("Bottom")>=0&&C(v,p,$(b(v,p))-(P-H)+r),X.x=l.pageX,X.y=l.pageY;var a=G.content;a&&a.isSelfViewEvent&&(a.setX(0),a.setY(0),a.setWidth(G.width-2*(G.borderWidth||0)),a.setHeight(G.contentHeight)),x.$36i?u.$18i.fire({kind:"betweenResize",target:u,id:u.getView().$15i}):(x.$36i=!0,u.$18i.fire({kind:"beginResize",target:u,id:u.getView().$15i}))}else if(x.$38i){var m,c,O,I,F,B,D,e,R,U,i=v.getBoundingClientRect(),o=i.width,t=i.height,y=Q(N),J=y.width,T=y.height,S=u._dragContainment;"leftTop"===Y?(m=$(b(v,V))||0,O=$(b(v,M))||0,F=m+E,D=O+w,"parent"===S&&(F+o>J&&(F=J-o),D+t>T&&(D=T-t),0>F&&(F=0),0>D&&(D=0)),R=F-m,U=D-O,u.setPosition(F,D),X.x+=R,X.y+=U):"rightBottom"===Y?(c=$(b(v,q))||0,I=$(b(v,p))||0,B=c-E,e=I-w,"parent"===S&&(0>B&&(B=0),0>e&&(e=0),B+o>J&&(B=J-o),e+t>T&&(e=T-t)),R=B-c,U=e-I,u.setPosition(B,e),X.x-=R,X.y-=U):"rightTop"===Y?(c=$(b(v,q))||0,O=$(b(v,M))||0,B=c-E,D=O+w,"parent"===S&&(0>B&&(B=0),0>D&&(D=0),B+o>J&&(B=J-o),D+t>T&&(D=T-t)),R=B-c,U=D-O,u.setPosition(B,D),X.x-=R,X.y+=U):"leftBottom"===Y&&(m=$(b(v,V))||0,I=$(b(v,p))||0,F=m+E,e=I-w,"parent"===S&&(0>F&&(F=0),0>e&&(e=0),F+o>J&&(F=J-o),e+t>T&&(e=T-t)),R=F-m,U=e-I,u.setPosition(F,e),X.x+=R,X.y-=U),x.$39i?u.$18i.fire({kind:"betweenMove",target:u,id:u.getView().$15i}):(x.$39i=!0,u.$18i.fire({kind:"beginMove",target:u,id:u.getView().$15i}))}}},handleWindowMouseMove:function(A){this.handleWindowTouchMove(A)}});var u=f.widget.PanelGroup=function(S){var y=this,j=y._view=x.createView(null,y);j.style.border="1px dashed black",j.style.position="absolute",j.style.background="rgba(120, 120, 120, 0.4)",y.$48i=new f.List,y._tolerance=100,y._config=S||{hGap:0,vGap:0},y.bindHandlePanelMove=y.handlePanelMove.bind(y),y.bindHandlePanelEvent=y.handlePanelEvent.bind(y),y.invalidate()};h.def(u,K,{invalidate:function(){var y=this;y._68I||(y._68I=1,v(function(){y.validate()},50))},validate:function(){if(this._68I){delete this._68I;var P=this.$48i.get(0);if(P){var O=P.getView().parentNode;O&&(this.layoutPanels(O,"leftTop"),this.layoutPanels(O,"rightTop"),this.layoutPanels(O,"leftBottom"),this.layoutPanels(O,"rightBottom"))}}},setLeftTopPanels:function(){var E=this,l=E.$43i,$=E.$48i;l==w&&(l=E.$43i=new f.List);for(var p=0;p<arguments.length;p++){var A=arguments[p];if("string"==typeof A)l.$49i=A;else{if(A._config.flowLayout)continue;A.setPositionRelativeTo("leftTop"),l.contains(A)||l.add(A),$.contains(A)||E.add(A)}}},setRightTopPanels:function(){var V=this,o=V.$44i,O=V.$48i;o==w&&(o=V.$44i=new f.List);for(var e=0;e<arguments.length;e++){var r=arguments[e];if("string"==typeof r)o.$49i=r;else{if(r._config.flowLayout)continue;r.setPositionRelativeTo("rightTop"),o.contains(r)||o.add(r),O.contains(r)||V.add(r)}}},setLeftBottomPanels:function(){var Q=this,P=Q.$45i,i=Q.$48i;P==w&&(P=Q.$45i=new f.List);for(var q=0;q<arguments.length;q++){var X=arguments[q];if("string"==typeof X)P.$49i=X;else{if(X._config.flowLayout)continue;X.setPositionRelativeTo("leftBottom"),P.contains(X)||P.add(X),i.contains(X)||Q.add(X)}}},setRightBottomPanels:function(){var F=this,X=F.$46i,q=F.$48i;X==w&&(X=F.$46i=new f.List);for(var j=0;j<arguments.length;j++){var i=arguments[j];if("string"==typeof i)X.$49i=i;else{if(i._config.flowLayout)continue;i.setPositionRelativeTo("rightBottom"),X.contains(i)||X.add(i),q.contains(i)||F.add(i)}}},add:function(a){if(!a._config.flowLayout){var b=this,R=b.$48i;R.contains(a)||(a.addEventListener(b.bindHandlePanelMove),a.addEventListener(b.bindHandlePanelEvent),R.add(a))}},remove:function(L){var N=this,g=N.$48i;g.contains(L)&&(L.removeEventListener(N.bindHandlePanelMove),L.removeEventListener(N.bindHandlePanelEvent),g.remove(L),N.$43i.contains(L)&&N.$43i.remove(L),N.$44i.contains(L)&&N.$44i.remove(L),N.$45i.contains(L)&&N.$45i.remove(L),N.$46i.contains(L)&&N.$46i.remove(L))},layoutPanels:function(O,e,$){var k=this,T=k._config,z=T.hGap||0,j=T.vGap||0;if(O){var Q=k.$43i;if("leftBottom"===e?Q=k.$45i:"rightTop"===e?Q=k.$44i:"rightBottom"===e&&(Q=k.$46i),!Q)return;var m=Q.$49i,N=z,E=j;if(O.contains(k._view)&&O.removeChild(k._view),Q&&Q.size()>0)for(var D=0;D<Q.size();D++){var B=Q.get(D),p=B.getView();O=O||p.parentNode,$!==D?B.setPosition(N,E):("leftTop"===e?(k._view.style.right="",k._view.style.bottom="",k._view.style.left=N+r,k._view.style.top=E+r):"leftBottom"===e?(k._view.style.right="",k._view.style.top="",k._view.style.left=N+r,k._view.style.bottom=E+r):"rightTop"===e?(k._view.style.left="",k._view.style.bottom="",k._view.style.right=N+r,k._view.style.top=E+r):"rightBottom"===e&&(k._view.style.left="",k._view.style.top="",k._view.style.right=N+r,k._view.style.bottom=E+r),k._view.style.width=p.offsetWidth+r,k._view.style.height=p.offsetHeight+r,O.insertBefore(k._view,p)),"h"===m?N+=p.offsetWidth+z:"v"===m&&(E+=p.offsetHeight+j)}}},handlePanelEvent:function(N){if("beginToggle"===N.kind||"endToggle"===N.kind||"beginRestore"===N.kind||"endMinimize"===N.kind||"endResize"===N.kind){var Q=this,T=N.target,D=T.getView(),K=D.parentNode,z=Q.$43i,i=Q.$44i,o=Q.$45i,g=Q.$46i,h=Q._config,s=w,S=w,I=T.$47i;if(I==w&&(I=T.$47i=0),"beginToggle"===N.kind?I=T.$47i=I+1:"endToggle"===N.kind&&(I=T.$47i=I-1),z&&z.contains(T)?(s="leftTop",S=z):o&&o.contains(T)?(s="leftBottom",S=o):i&&i.contains(T)?(s="rightTop",S=i):g&&g.contains(T)&&(s="rightBottom",S=g),"beginToggle"===N.kind&&s&&1===I){var E=a(),l=E.style,U=S.$49i,p="each";l.fontSize="0",l.position="absolute",l.width="100%","leftTop"===s?(l.left=0,l.top=0):"leftBottom"===s?(l.left=0,l.bottom=0,"v"===U&&(p="reverseEach")):"rightTop"===s?(l.right=0,l.top=0,l.textAlign="right","h"===U&&(p="reverseEach")):"rightBottom"===s&&(l.right=0,l.bottom=0,l.textAlign="right",p="reverseEach"),S[p](function(l){var D=l.getView(),y=D.style,V=a();y.position="static",V.style.textAlign="left",V.style.position="relative",V.style.display="inline-block","leftTop"===s?(V.style.marginLeft=h.hGap+r,V.style.marginTop=h.vGap+r):"leftBottom"===s?(V.style.marginLeft=h.hGap+r,V.style.marginBottom=h.vGap+r):"rightTop"===s?(V.style.marginRight=h.hGap+r,V.style.marginTop=h.vGap+r):"rightBottom"===s&&(V.style.marginRight=h.hGap+r,V.style.marginBottom=h.vGap+r),V.appendChild(D),E.appendChild(V),"h"===U?V.style.verticalAlign="leftTop"===s||"rightTop"===s?"top":"bottom":E.appendChild(F("br"))}),Q.$54i=E,K.appendChild(E)}else"endToggle"===N.kind&&s&&0===I?v(function(){K=K.parentNode.parentNode,K.removeChild(Q.$54i),delete Q.$54i,S.each(function(L){var z=L.getView(),_=z.style;_.position="absolute",K.appendChild(z)}),Q.layoutPanels(K,s)},30):("beginRestore"===N.kind||"endMinimize"===N.kind||"endResize"===N.kind)&&s&&Q.layoutPanels(K,s)}},handlePanelMove:function(v){if(!(v.kind.indexOf("Move")<0)){var T=this,r=T._config,J=r.hGap||0,R=r.vGap||0,c=v.target,S=c._view,g=S.getBoundingClientRect(),W=g.width,V=g.height,l=W/2,q=V/2,F=S.parentNode,H=T.$43i,p=T.$44i,P=T.$45i,i=T.$46i,Q=F.getBoundingClientRect(),t=T._tolerance;if("endMove"===v.kind){var y=T._corner;y&&(c.setPositionRelativeTo(y),T.layoutPanels(F,y)),delete T._corner}if("betweenMove"===v.kind){var o=Q.left,k=Q.top,x=Q.width,Y=Q.height,m=g.left+W/2,B=g.top+V/2;H==w&&(H=T.$43i=new f.List),P==w&&(P=T.$45i=new f.List),p==w&&(p=T.$44i=new f.List),i==w&&(i=T.$46i=new f.List),delete T._corner,H.contains(c)?(H.remove(c),T.layoutPanels(F,"leftTop")):P.contains(c)?(P.remove(c),T.layoutPanels(F,"leftBottom")):p.contains(c)?(p.remove(c),T.layoutPanels(F,"rightTop")):i.contains(c)&&(i.remove(c),T.layoutPanels(F,"rightBottom"));var O=function(v,j){var u=o+J,V=k+R;if(0===j.size()){var h=u+l,e=V+q;"leftBottom"===v?e=k+Y-R-q:"rightTop"===v?h=o+x-J-l:"rightBottom"===v&&(h=o+x-J-l,e=k+Y-R-q);var H=m-h,s=B-e,f=Math.sqrt(H*H+s*s);if(t>f)return T._corner=v,j.add(c),T.layoutPanels(F,v,0),!0}else if(1===j.size()){var Q=j.get(0),_=Q.getView().getBoundingClientRect(),U=_.left+l,I=_.top+q,E=_.left+_.width+J+l,S=V+q,d=u+l,i=_.top+_.height+R+q;"leftBottom"===v?(I=_.top+_.height-q,S=k+Y-R-q,i=_.top-R-q):"rightTop"===v?(U=_.left+_.width-l,E=_.left-J-l,d=o+x-J-l):"rightBottom"===v&&(U=_.left+_.width-l,I=_.top+_.height-q,E=_.left-J-l,S=k+Y-R-q,d=o+x-J-l,i=_.top-R-q);var A=m-U,z=B-I,n=m-E,W=B-S,D=m-d,O=B-i,p=$(Math.sqrt(A*A+z*z)),G=$(Math.sqrt(n*n+W*W)),P=$(Math.sqrt(D*D+O*O)),M=[p,G,P];M.sort(function(L,n){return L-n});var b=M[0];if(t>b){if(T._corner=v,b===p)return j.add(c,0),T.layoutPanels(F,v,0),!0;if(b===G)return j.add(c),j.$49i="h",T.layoutPanels(F,v,1),!0;if(b===P)return j.add(c),j.$49i="v",T.layoutPanels(F,v,1),!0}}else if(j.size()>1){for(var L=w,N={},X=[],C=j.$49i,g=0;g<j.size();g++){var r=j.get(g),a=r.getView(),K=a.getBoundingClientRect(),Z=K.left+l,y=K.top+q;"leftBottom"===v?y=K.top+K.height-q:"rightTop"===v?Z=K.left+K.width-l:"rightBottom"===v&&(Z=K.left+K.width-l,y=K.top+K.height-q),g===j.size()-1&&(L=K);var H=m-Z,s=B-y,f=$(Math.sqrt(H*H+s*s));N[f]=g,X.push(f)}"leftTop"===v&&"h"===C?(h=L.left+L.width+J+l,e=V+q):"leftTop"===v&&"v"===C?(h=u+l,e=L.top+L.height+R+q):"leftBottom"===v&&"h"===C?(h=L.left+L.width+J+l,e=k+Y-R-q):"leftBottom"===v&&"v"===C?(h=u+l,e=L.top-R-q):"rightTop"===v&&"h"===C?(h=L.left-J-l,e=V+q):"rightTop"===v&&"v"===C?(h=o+x-J-l,e=L.top+L.height+R+q):"rightBottom"===v&&"h"===C?(h=L.left-J-l,e=k+Y-R-q):"rightBottom"===v&&"v"===C&&(h=o+x-J-l,e=L.top-R-q),H=m-h,s=B-e,f=$(Math.sqrt(H*H+s*s)),N[f]=g,X.push(f),X.sort(function(s,u){return s-u});var b=X[0];if(t>b)return T._corner=v,j.add(c,N[b]),T.layoutPanels(F,v,N[b]),!0}};O("leftTop",H)||O("leftBottom",P)||O("rightTop",p)||O("rightBottom",i)}}}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);