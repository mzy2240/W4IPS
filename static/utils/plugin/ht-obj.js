!function(q,D,W){"use strict";var K="ht",H=q[K],G=null,r=Math,y=r.abs,n=r.max,k=Number.MAX_VALUE,O=H.Default,L=O.getInternal(),M=O.clone,p=L.vec3TransformMat4,h=L.appendArray,I=function(){var Y=/v( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)/,u=/vt( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)/,V=/vn( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)/,d=function(v,u){return u=parseInt(u),u>=0?v[u-1]:v[u+v.length]},q=function(c,Z,z,J,l,K){if(c.vs){var U=d(Z,J),W=d(Z,l),j=d(Z,K),m=z.matrix,T=c.vs;if(z.flipFace){var D=W;W=j,j=D}m?(h(T,p(M(U),m)),h(T,p(M(W),m)),h(T,p(M(j),m))):(h(T,U),h(T,W),h(T,j))}},J=function(c,r,Y,W,A,s){if(c.vs){var n=d(r,W),l=d(r,A),R=d(r,s),U=Y.flipY;if(Y.flipFace){var y=l;l=R,R=y}c.uv.push(n[0],U?1-n[1]:n[1],l[0],U?1-l[1]:l[1],R[0],U?1-R[1]:R[1])}},$=function(V,R,b,z,$,t){if(V.vs){var I=d(R,z),C=d(R,$),e=d(R,t),j=b.normalMatrix,Z=V.ns;if(b.flipFace){var F=C;C=e,e=F}j?(h(Z,p(M(I),j)),h(Z,p(M(C),j)),h(Z,p(M(e),j))):(h(Z,I),h(Z,C),h(Z,e))}},w=function(p,B,D,d,G,M,u,P){var Z=d&&d.length&&P;M[3]===W?(q(p,B,G,M[0],M[1],M[2]),u&&J(p,D,G,u[0],u[1],u[2]),Z&&$(p,d,G,P[0],P[1],P[2])):(q(p,B,G,M[0],M[1],M[3]),q(p,B,G,M[1],M[2],M[3]),u&&(J(p,D,G,u[0],u[1],u[3]),J(p,D,G,u[1],u[2],u[3])),Z&&($(p,d,G,P[0],P[1],P[3]),$(p,d,G,P[1],P[2],P[3])))},f=function(z,N,Q,j){var A,b,X,H,E,I,P,Y=k,q=k,W=k,g=-k,h=-k,V=-k;for(A in z)for(I=z[A].vs,P=I.length,b=0;P>b;b+=3)X=I[b+0],H=I[b+1],E=I[b+2],Y>X&&(Y=X),q>H&&(q=H),W>E&&(W=E),X>g&&(g=X),H>h&&(h=H),E>V&&(V=E);if(Q){var T=Y+(g-Y)/2,f=q+(h-q)/2,U=W+(V-W)/2;for(A in z)for(I=z[A].vs,P=I.length,b=0;P>b;b+=3)I[b+0]-=T,I[b+1]-=f,I[b+2]-=U}var G,o,F;Q?(G=g-Y,o=h-q,F=V-W):(G=2*n(y(Y),y(g)),o=2*n(y(q),y(h)),F=2*n(y(W),y(V))),0===G&&(G=Math.min(o,F)/1e3||.001),0===o&&(o=Math.min(G,F)/1e3||.001),0===F&&(F=Math.min(G,o)/1e3||.001),j.rawS3=[G,o,F];for(A in z){if(I=z[A].vs,N)for(P=I.length,b=0;P>b;b+=3)G&&(I[b+0]/=G),o&&(I[b+1]/=o),F&&(I[b+2]/=F);z[A].rawS3=j.rawS3}};return function(z,E,q){if(!z)return G;(L.isString(E)||E instanceof ArrayBuffer)&&(E=t(E)),q||(q={}),q.flipY==G&&(q.flipY=!0),(q.s3||q.r3||q.t3||q.mat)&&(q.matrix=L.createWorldMatrix(q.mat,q.s3,q.r3,q.rotationMode,q.t3));var b,D,B,x,Z,k,p=[],A=[],W=q.ignoreNormal?G:[],S=q.reverseFlipMtls,r={vs:[],uv:[],ns:W?[]:G},Q={htdefault:r},l=new a(z);for(W&&q.matrix&&(q.normalMatrix=L.createNormalMatrix(q.matrix));null!=(D=l.stepNext());)if(D=D.trim(),0!==D.length&&"#"!==D.charAt(0))if(D.indexOf("#QNAN0")>=0&&(D=D.replace(/#QNAN0/gi,"0")),B=Y.exec(D))p.push([parseFloat(B[1]),parseFloat(B[2]),parseFloat(B[3])]);else if(B=u.exec(D))A.push([parseFloat(B[1]),parseFloat(B[2])]);else if(W&&(B=V.exec(D)))q.flipFace?W.push([parseFloat(-B[1]),parseFloat(-B[2]),parseFloat(-B[3])]):W.push([parseFloat(B[1]),parseFloat(B[2]),parseFloat(B[3])]);else if("f"===D[0]){var M=D.split(/\s+/);if(M.length<4)continue;var h,b,j,$=[],N=[],g=[];for(b=1,j=M.length;j>b;b++)h=M[b].split("/"),$.push(parseInt(h[0],10)),h.length>1&&h[1].length>0&&g.push(parseInt(h[1],10)),h.length>2&&h[2].length>0&&N.push(parseInt(h[2],10));for(b=0,j=$.length-2;j>b;b++)w(r,p,A,W,q,[$[0],$[b+1],$[b+2]],g.length?[g[0],g[b+1],g[b+2]]:G,N.length?[N[0],N[b+1],N[b+2]]:G)}else if(/^usemtl /.test(D)&&(x=D.substring(7).trim(),!(r=Q[x]))){if(r={name:x,vs:[],uv:[],ns:W?[]:G},q.ignoreMtls&&q.ignoreMtls.indexOf(x)>=0&&delete r.vs,(q.reverseFlip||"*"===S||S&&S.indexOf(x)>=0)&&(r.reverseFlip=!0),E&&(Z=E[x],Z&&(q.ignoreColor||(r.color=Z.kd),!q.ignoreTransparent&&Z.d>0&&Z.d<1&&(r.transparent=!0,r.opacity=Z.d),!q.ignoreImage&&(k=Z.map_kd)))){k=k.split(" ");var o=-1;for(b=0;b<k.length;b++)"-o"===k[b]?(r.uvOffset=[parseFloat(k[b+1]),parseFloat(k[b+2])],b+=3,o=b):"-s"===k[b]&&(r.uvScale=[parseFloat(k[b+1]),parseFloat(k[b+2])],b+=3,o=b);r.image=(q.prefix||"")+k.splice(o+1).join(" ")}Q[x]=r}var _=[];for(var K in Q){var i=Q[K].vs;i&&0!==i.length||_.push(K)}_.forEach(function(H){delete Q[H]}),f(Q,q.cube,q.center,q);var n=q.shape3d;if(n){var s=[];for(var x in Q){var r=Q[x];s.rawS3=r.rawS3,s.push(r)}O.setShape3dModel(n,s)}return Q}}(),t=function(L){var s={};if(L)for(var Y,S,$,P,G,u,r=new a(L),T=/\s+/;null!=(S=r.stepNext());)S=S.trim(),0!==S.length&&"#"!==S.charAt(0)&&($=S.indexOf(" "),P=($?S.substring(0,$):S).toLowerCase(),G=($?S.substring($+1):"").trim(),"newmtl"===P?s[G]=Y={name:G}:Y&&("ka"===P||"kd"===P||"ks"===P?(u=G.split(T,3),Y[P]=[parseFloat(u[0]),parseFloat(u[1]),parseFloat(u[2]),1]):Y[P]="ns"===P||"d"===P?parseFloat(G):G));return s},a=function(j){var T=this;if(j instanceof ArrayBuffer){T.isBuffer=!0;var v=0,o=new Uint8Array(j),S=o.length,G=o.length;T.stepNext=function(){for(var Q,O,x=v;S>v;)if(Q=o[v],O=Q>>4,12===O||13==O)v+=2;else if(14===O)v+=3;else if(v++,10===Q)return String.fromCharCode.apply(null,o.subarray(x,v));return v>x?String.fromCharCode.apply(null,o.subarray(x,v)):null}}else{T.isBuffer=!1;var F=j.split("\n"),z=0,G=F.length;T.stepNext=function(){return G>z?F[z++]:null}}};a.prototype={},a.prototype.constructor=a,L.addMethod(O,{loadObj:function(i,F,S){S=S||{};var k=!1;/(MSIE |Trident\/|Edge\/)/.test(q.navigator.userAgent)&&(k=!0);var z=function(m){var H,j=S.finishFunc,$=S.shape3d,f=m?I(m[0],m[1],S):null;if(f){if($)H=O.getShape3dModel($);else{H=[];for(var N in f){var s=f[N];H.rawS3=s.rawS3,H.push(s)}}j&&j(f,H,H.rawS3)}else j&&j(null)};if(k){var V=function(_){S.responseType="arraybuffer",O.xhrLoad(i,function(l){z([l,_])},S)};F?O.xhrLoad(F,function(k){V(k)},S):V()}else O.xhrLoad(F?[i,F]:[i],z,S)},parseObj:function(f,w,R){return I(f,w,R)}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);