!function(w){"use strict";var e="ht",J=w[e],$=J.Default,G=Math,l=(G.PI,G.sin,G.cos,G.atan2,G.sqrt,G.max),p=G.floor,n=(G.round,G.ceil),z=J.Shape,L=(J.Edge,J.List),c=J.Style,t=J.graph,m=$.getInternal(),i=m.ui(),U=null,H="prototype",P=w.clearInterval,Z=w.setInterval,I=function(s){var $=s.data,Z=this.dm();if($&&"add"===s.kind){var q=Z.$1c,G=$ instanceof z?"shape.":"edge.";q&&$.s(G+"dash.flow")&&q.indexOf($)<0&&q.push($)}"clear"===s.kind&&(Z.$1c=[])},E=function(c){var M=c.property,m=c.data,w=c.newValue,W=this.dm().$1c,B=m instanceof z?"s:shape.dash.flow":"s:edge.dash.flow";if(W&&M===B)if(w)W.indexOf(m)<0&&W.push(m);else for(var x=W.length,S=0;x>S;S++)if(W[S]===m){W.splice(S,1);break}},O=t.GraphView[H],h=i.EdgeUI[H],V=i.ShapeUI[H],S=V._80o,F=h._80o,k=J.DataModel[H],u=k.prepareRemove,T=O.setDataModel;c["edge.dash.flow.step"]==U&&(c["edge.dash.flow.step"]=3),c["shape.dash.flow.step"]==U&&(c["shape.dash.flow.step"]=3),k.prepareRemove=function(T){u.call(this,T);var f=T._dataModel,x=f.$1c;if(x)for(var k=x.length,$=0;k>$;$++)if(x[$]===T){x.splice($,1);break}},O.setDataModel=function(D){var R=this,U=R._dataModel;if(U!==D){U&&(U.umm(I,R),U.umd(E,R),U.$1c=[]),D.mm(I,R),D.md(E,R);var r=D.$1c=[];D.each(function(q){var K=q instanceof z?"shape.":"edge.";q.s(K+"dash.flow")&&r.indexOf(q)<0&&r.push(q)}),T.call(R,D)}},O.setDashFlowInterval=function(j){var G=this,V=G.$2c;G.$2c=j,G.fp("dashFlowInterval",V,j),G.$3c!=U&&(P(G.$3c),delete G.$3c,G.enableDashFlow(j))},O.getDashFlowInterval=function(){return this.$2c},O.$4c=function(){var K,C,Z,Y=this,x=Y.tx(),W=Y.ty(),f=Y._zoom,q=Y.getWidth(),X=Y.getHeight(),s={x:-x/f,y:-W/f,width:q/f,height:X/f},b=Y.dm().$1c,J=Y._56I,I=new L;if(b.forEach(function(a){J[a.getId()]&&(K=Y.getDataUI(a),K&&(Z=K._79o(),Z&&I.add(Z)))}),0!==I.size()&&(I.each(function(E){$.intersectsRect(s,E)&&(C=$.unionRect(C,E))}),C&&(C&&($.grow(C,l(1,1/f)),C.x=p(C.x*f)/f,C.y=p(C.y*f)/f,C.width=n(C.width*f)/f,C.height=n(C.height*f)/f,C=$.intersection(s,C)),C))){var M=Y._canvas.getContext("2d");M.save(),M.lineCap=$.lineCap,M.lineJoin=$.lineJoin,m.translateAndScale(M,x,W,f),M.beginPath(),M.rect(C.x,C.y,C.width,C.height),M.clip(),M.clearRect(C.x,C.y,C.width,C.height),Y.$5c(M,C),M.restore()}},O.$5c=function(y,g){var i,l,P=this;P._93db(y),P.each(function(n){P._56I[n._id]&&(i=P.getDataUI(n),i&&(l=i._79o(),(!g||$.intersectsRect(g,l))&&(i.$7c=!0,i._42(y),delete i.$7c)))}),P._92db(y)},O.enableDashFlow=function(q){var D=this;D.$3c==U&&(D.$3c=Z(function(){D.$4c()},q||D.$2c||50))},O.disableDashFlow=function(){var W=this;P(W.$3c),delete W.$3c};var o=function(){var B=this,R=B._data,J=R instanceof z?"shape.":"edge.",X=R.s(J+"dash.pattern"),o=R.s(J+"dash.flow.reverse");if(X&&R.s(J+"dash")&&R.s(J+"dash.flow")&&B.$7c){var D=B.s(J+"dash.offset")||0,L=R.s(J+"dash.flow.step"),P=R.getStyleMap(),A=0;X.forEach(function(a){A+=a}),o&&(L=-L),D-=L,D%=A,P||(R._styleMap=P={}),P[J+"dash.offset"]=D}};h._80o=function(H){F.call(this,H),o.call(this)},V._80o=function(e){S.call(this,e),o.call(this)}}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);