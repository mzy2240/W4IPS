!function(B,J){"use strict";var M="ht",w=B[M],t="px",Y="left",e="top",S="bottom",V="right",W="innerHTML",I="className",R="",C="width",P="height",b="string",h="position",q="absolute",p="0",r="opacity",i="background",_=w.Default,s=_.getInternal(),Q=w.Color,u=_.animate,v=_.isTouchable,o=null,H=(Math.sqrt,B.parseInt),O=B.setTimeout,T=(Math.round,Q.titleIconBackground),m=function(P){return typeof P===b||P instanceof String},g=function(){return document},Z=function(R){return g().createElement(R)},k=function(){var G=Z("div");return G.tabIndex=-1,G.style.outline="none",G},z=function(){return Z("canvas")},E=function(n,d){a(n,"-webkit-transform",d),a(n,"-ms-transform",d),a(n,"transform",d)},a=function(i,d,u){i.style.setProperty(d,u,o)},N=function(F,D,I){_.def(w.widget[F],D,I)},K=function(B,e){B.appendChild(e)},L=function(){return g().documentElement},x=function(){return L().clientWidth},F=function(){return L().clientHeight},U=_.eventListenerOptionsFalse,A=(_.eventListenerOptionsTrue,function(l,h,m,J){l.addEventListener(h,m,J?U:U)}),G=function(S,P,J,z){S.removeEventListener(P,J,z?U:U)},d=function(z){var X=z.touches[0];return X?X:z.changedTouches[0]};s.addMethod(_,{dialogCloseIcon:{width:100,height:100,comps:[{type:"shape",points:[10,10,90,90],segments:[1,2],borderWidth:8,borderColor:T},{type:"shape",points:[90,10,10,90],segments:[1,2],borderWidth:8,borderColor:T}]},dialogMaximizeIcon:{width:100,height:100,comps:[{type:"rect",rect:[10,15,80,75],borderWidth:6,borderColor:T},{type:"rect",rect:[10,10,80,20],background:T}]},dialogRestoreIcon:{width:100,height:100,comps:[{type:"rect",rect:[10,34,56,56],borderWidth:8,borderColor:T},{type:"rect",rect:[10,34,56,14],background:T},{type:"rect",rect:[34,10,56,14],background:T},{type:"rect",rect:[82,10,8,56],background:T},{type:"rect",rect:[66,62,24,8],background:T}]},dialogTitleLabelColor:_.labelSelectColor,dialogTitleLabelFont:(v?"18":"14")+"px arial, sans-serif",dialogContentLabelFont:_.labelFont,dialogTitleBackground:Q.titleBackground,dialogHeaderBackground:Q.headerBackground,dialogButtonBackground:"#1ABC9C",dialogButtonSelectBackground:"#16A085",dialogButtonLabelColor:"#fff"},!0);var D=function(v){var K=this;K.$1d=v,K.addListeners()};_.def(D,J,{ms_listener:1,getView:function(){return this.$1d.getView()},clear:function(){delete this.$2d,delete this.$3d,delete this.$4d,delete this.$5d},handle_touchstart:function($){var i=this,y=i.$1d,j=y.$6d,V=y._config,I=y.$7d,O=$,P=$.target;if(I.contains(P)||_.preventDefault($),_.isLeftButton($)){v&&(O=d($));var n=i.$8d={x:O.pageX,y:O.pageY};i.$9d={x:n.x,y:n.y},!V.maximized&&V.draggable&&j.contains(P)&&(i.$4d=!0,_.startDragging(i,$)),i.handle_mousemove($)&&(i.$2d=!0,_.startDragging(i,$)),I.contains($.target)||y.$41d.focus()}},handle_mousedown:function(o){this.handle_touchstart(o)},handle_touchend:function(X){if(_.isLeftButton(X)&&!this.$5d&&!this.$3d){var J=this,y=J.$1d,$=X.target,B=y._config,Z=y.$18d,g=y.$16d;for(B.closable&&Z.contains($)&&y.hide(),B.maximizable&&g.contains($)&&(B.maximized?y.restore():y.maximize());$&&($.className||"").indexOf("dialog-button")<0;)$=$.parentNode;$&&$.buttonItem&&y.action&&y.action($.buttonItem,X),delete J.$8d,delete J.$9d}},handle_mouseup:function(Y){this.handle_touchend(Y)},handleWindowTouchEnd:function(u){var v=this,V=v.$1d,o=V.$10d;v.$2d&&v.$3d?o.fire({kind:"endResize",target:V,originEvent:u}):v.$4d&&v.$5d&&o.fire({kind:"endMove",target:V,originEvent:u}),this.clear()},handleWindowMouseUp:function(l){this.handleWindowTouchEnd(l)},handle_mousemove:function(h){var T=this.$1d._config;if(T.maximized)return!1;if("w"!==T.resizeMode&&"h"!==T.resizeMode&&"wh"!==T.resizeMode)return!1;var D=this,m=D.getView(),s=m.querySelector(".resize-area"),c=s.getBoundingClientRect(),F={x:c.left,y:c.top,width:c.width,height:c.height};h=v?d(h):h;var y=h.clientX,Q=h.clientY,I={x:y,y:Q};return _.containsPoint(F,I)?(a(m,"cursor","nwse-resize"),!0):(a(m,"cursor",R),void 0)},handleWindowTouchMove:function(p){p.preventDefault();var i=p;v&&(i=d(p));var k=this,N=k.$8d,C=k.$9d;if(!(C.x==N.x&&C.y==N.y&&_.getDistance(C,{x:i.pageX,y:i.pageY})<=1)){var I=k.$1d,J=I._config,B=I.$21d,b=J.resizeMode||"wh",g=i.pageX-N.x,Z=i.pageY-N.y;if(k.$2d){var $=B.offsetWidth,c=B.offsetHeight,P=$+g,j=c+Z;if(P=Math.max(P,50),j=Math.max(j,50),"center"===J.position||J.position==o){var r={},h=B.getBoundingClientRect();r.x=h.left,r.y=h.top,J.position=r}"w"===b?(I.setSize(P,c),N.x+=P-$):"h"===b?(I.setSize($,j),N.y+=j-c):"wh"===b&&(I.setSize(P,j),N.x+=P-$,N.y+=j-c),k.$3d?I.$10d.fire({kind:"betweenResize",target:I,originEvent:p}):(k.$3d=!0,I.$10d.fire({kind:"beginResize",target:I,originEvent:p}))}else if(k.$4d){var m=B.getBoundingClientRect(),A=m.width,l=m.height,K=x(),E=F(),X=H(B.style.left)||0,Q=H(B.style.top)||0,f=X+g,W=Q+Z,S=I.adjustPosition({x:f,y:W},{width:A,height:l},{width:K,height:E});S&&(f=S.x,W=S.y);var q=f-X,T=W-Q;a(B,Y,f+t),a(B,e,W+t),N.x+=q,N.y+=T,J.position={x:f,y:W},k.$5d?I.$10d.fire({kind:"betweenMove",target:I,originEvent:p}):(k.$5d=!0,I.$10d.fire({kind:"beginMove",target:I,originEvent:p}))}}},handleWindowMouseMove:function(G){this.handleWindowTouchMove(G)},handleWindowResize:function(){var J=this,H=J,L=H._config,T=H.$21d,U=x(),V=F(),s=L.width,j=L.height,r=L.position||"center";L.maximized?(a(T,C,U+t),a(T,P,V+t),a(T,e,p),a(T,Y,p)):(a(T,C,s+t),a(T,P,j+t),"center"===r?(a(T,Y,(U-s)/2+t),a(T,e,(V-j)/2+t)):(a(T,Y,r.x+t),a(T,e,r.y+t))),H.iv()},handle_mousewheel:function(U){U.stopPropagation()},handle_DOMMouseScroll:function(G){G.stopPropagation()}}),w.widget.Dialog=function(H){var x=this,y=x._view=s.createView(null,x);y[I]="ht-widget-dialog",a(y,h,q),_.baseZIndex!=o&&a(y,"z-index",_.baseZIndex+"");var P=x.$11d=new D(x);x.bindingHandleWindowResize=P.handleWindowResize.bind(x),x.$10d=new w.Notifier,H&&x.setConfig(H)},N("Dialog",J,{ms_v:1,setTitle:function(i){this._config.title=i,this.getView().querySelector(".dialog-container-title span").innerHTML=i},clearNodes:function(S){if(S)for(;S.firstChild;)S.removeChild(S.firstChild)},$31d:function(){var e=this,L=e.$6d=k(),d=e._config,$=e.$12d=e.$13d();L[I]="dialog-container-title",a(L,"cursor","default"),a(L,"white-space","nowrap"),a(L,"overflow","hidden"),a(L,"font",_.dialogTitleLabelFont),a(L,i,d.titleBackground||_.dialogTitleBackground),a(L,"color",d.titleColor||_.dialogTitleLabelColor);var U=Z("span"),S=e.$25d();if(d.titleAlign&&a(L,"text-align",d.titleAlign),d.titleIcon){var q=e.$14d=e.$15d();K(L,q)}if(d.title&&d.title.trim&&(d.title=d.title.trim()),U[W]=d.title||"&nbsp;",K(L,U),d.maximizable){var F=e.$16d=e.$17d();K($,F)}if(d.closable){var J=e.$18d=e.$19d();K($,J)}return K(L,$),a(L,"display","block"),a(L,"line-height",S+t),L},$13d:function(){var d=k();return a(d,h,q),a(d,Y,p),a(d,V,5+t),a(d,e,p),a(d,S,p),a(d,"text-align",V),a(d,"white-space","nowrap"),d[I]="dialog-title-controls",d},$20d:function(){var R=this.$21d=k(),W=this._config,y=W.borderWidth;return a(R,h,"fixed"),a(R,"box-shadow","rgba(0, 0, 0, 0.2) 0px 5px 10px 0px"),a(R,"padding",p+" "+y+t+" "+y+t+" "+y+t),a(R,"box-sizing","border-box"),a(R,"-moz-box-sizing","border-box"),R[I]="dialog-container",a(R,i,W.titleBackground||_.dialogTitleBackground),R},$22d:function(){var j,r=this,Z=r._config,c=r.$7d=k(),l=Z.content,O=0,H=Z.contentPadding||0;Z.buttons!=o&&Z.buttons.length>0&&(O=32),m(l)?c[W]=l:l.getView?(j=l.getView(),K(c,j)):(j=l,K(c,j)),a(c,h,q),a(c,"font",_.dialogContentLabelFont),w.Default.appendToScreen(c);var X=c.offsetWidth+1,T=c.offsetHeight,p=r.$25d();return Z.width==o&&(Z.width=X+10+2*H),Z.height==o&&(Z.height=T+p+O+5+2*H),w.Default.removeHTML(c),j&&(a(j,"box-sizing","border-box"),a(j,"-moz-box-sizing","border-box"),a(j,C,"100%"),a(j,P,"100%")),c[I]="dialog-content",a(c,e,p+H+t),a(c,S,O+H+t),a(c,Y,H+t),a(c,V,H+t),a(c,"overflow","hidden"),c},getOverlayDiv:function(){return this.$41d},$23d:function(){var s=this.$41d=k();return s[I]="dialog-overlay",a(s,C,"100%"),a(s,P,"100%"),a(s,h,"fixed"),a(s,e,p),a(s,Y,p),a(s,i,"rgba(235, 235, 235, 0.7)"),s},_config:o,setSize:function(N,T){var p=this,t=p._config;t&&(t.width=N,t.height=T,p.isShowing()&&(p.bindingHandleWindowResize(),p.iv()))},getConfig:function(){return this._config},$24d:function(){var g=this._config,k=g.titleIconSize||16;return v&&(k*=1.2),k},$25d:function(){var T=this._config,H=T.titleHeight||_.widgetTitleHeight;return H},$26d:function(W){a(W,"cursor","pointer"),a(W,"display","inline-block"),a(W,"margin-right",(v?8:4)+t),a(W,"vertical-align",e)},$27d:function(){var R=this.$30d=k(),n=10;return v&&(n=20),a(R,C,n+t),a(R,P,n+t),a(R,h,q),a(R,S,p),a(R,V,p),R[I]="resize-area",R},$15d:function(){var e=this,P=z();P[I]="dialog-title-control dialog-title-control-icon";var w=e.$25d(),Q=e.$24d();return e.$26d(P),s.setCanvas(P,Q,w),P},$17d:function(){var V=z();V[I]="dialog-title-control dialog-title-control-maximize";var k=this.$25d(),H=this.$24d();return this.$26d(V),s.setCanvas(V,H,k),V},$19d:function(){var T=z();T[I]="dialog-title-control dialog-title-control-close";var K=this.$25d(),v=this.$24d();return this.$26d(T),s.setCanvas(T,v,K),T},$28d:function(){var e=k();return a(e,i,"white"),a(e,C,"100%"),a(e,P,"100%"),a(e,h,"relative"),e},$29d:function(){var F=this,Q=k();a(Q,"line-height",32+t),a(Q,h,q),a(Q,S,p),a(Q,Y,p),a(Q,"white-space","nowrap"),a(Q,"overflow","hidden"),a(Q,V,p),a(Q,i,_.dialogHeaderBackground),Q[I]="dialog-container-buttons";var g=this._config,z=g.buttonsAlign||V,R=0;return a(Q,"text-align",z),F.$42d=[],g.buttons.forEach(function(i){var B=new w.widget.Button,j=B.getView();j[I]="dialog-button "+i.className,j.buttonItem=i,F.$42d.push(B),B.setBorderColor(o),B.setBackground(_.dialogButtonBackground),B.setSelectBackground(_.dialogButtonSelectBackground),B.setLabelColor(_.dialogButtonLabelColor),a(j,h,"relative"),a(j,"display","inline-block"),a(j,"text-align",Y),a(j,"height",24+t);var A=v?10:5;z===Y||z===V?a(j,"margin-"+z,A+t):0===R||a(j,"margin-"+Y,A+t),a(j,"vertical-align","middle");var r=_.getTextSize(B.getLabelFont(),i.label).width+10;B.onClicked=function(w){i.action&&i.action.call(F,i,w)},B.setLabel(i.label),B.setDisabled(i.disabled),a(j,C,r+t),K(Q,B.getView()),R++}),Q},setConfig:function(k){if(k){var N=this,T=N._view;N._config=k,N.action=k.action,N.clearNodes(T),k.borderWidth==o&&(k.borderWidth=5);var r=N.$23d(),Y=N.$28d(),V=N.$31d(),g=N.$22d(),e=N.$20d(),v=N.$30d=N.$27d();if(K(T,r),K(T,e),K(e,Y),K(Y,V),K(Y,g),k.buttons!=o&&k.buttons.length>0){var S=N.$29d();K(Y,S)}K(e,v),k.maximized?(k.maximized=!1,N.bindingHandleWindowResize(),N.maximize(!0)):N.bindingHandleWindowResize(),N.isShowing()&&N.iv()}},hide:function(){var e=this,l=e.$21d,Z=e.$41d,x=e._view;x[I]="ht-widget-dialog",u(l).duration(200).scale(.7).set(r,p).end(function(){e.onHidden&&e.onHidden(),w.Default.removeHTML(x),e.$10d.fire({kind:"hide",target:e})}),u(Z).duration(200).set(r,p).end(),G(B,"resize",e.bindingHandleWindowResize)},isShowing:function(){return!!this._view.parentNode},setModal:function(i){this.$41d.style.display=i?"block":"none"},isModal:function(){return"none"!==this.$41d.style.display},$32d:function(){var I=this,h=I._config,s=I.$21d;E(s,R),I.iv(),h.maximized?I.$10d.fire({kind:"maximize",target:I}):I.$10d.fire({kind:"restore",target:I})},maximize:function(Q){var X=this,L=X.$21d,d=X._config;if(!d.maximized){d.maximized=!0,X.$33d(),X.$16d[I]="dialog-title-control dialog-title-control-minimize";var a=x(),S=F(),y=d.width,V=d.height,k=H(L.style.left)||0,o=H(L.style.top)||0;X.$36d=y,X.$37d=V,X.$34d=k,X.$35d=o;var h=Q?0:200;u(L).duration(h).set(Y,p).set(e,p).set(C,a+t).set(P,S+t).end(function(){X.$32d()})}},restore:function(){var A=this,n=A.$34d,G=A.$35d,s=A.$36d,R=A.$37d,m=A._config;if(m.maximized&&(m.maximized=!1,A.$33d(),A.$16d[I]="dialog-title-control dialog-title-control-maximize",A.isShowing()&&n!=o&&G!=o&&s!=o&&R!=o)){var V=A.$21d;u(V).duration(200).set(Y,n+t).set(e,G+t).set(C,s+t).set(P,R+t).end(function(){A.$32d()})}delete A.$34d,delete A.$35d,delete A.$36d,delete A.$37d},show:function(){var q=this,N=q._view,W=q._config,H=q.$21d,s=q.$41d;W&&W.zIndex!=o&&a(N,"z-index",W.zIndex+R),w.Default.appendToScreen(N),E(H,"scale(0.7)"),a(H,r,p),q.iv(),q.validate(),q._view[I]+=" dialog-show",O(function(){u(H).duration(200).scale(1).set(r,"1").end(function(){a(H,C,H.clientWidth+t),a(H,P,H.clientHeight+t),q.onShown&&q.onShown(),q.$10d.fire({kind:"show",target:q});var N=W&&W.content;N&&N.iv&&N.iv()}),u(s).duration(200).set(r,"1").end(),A(B,"resize",q.bindingHandleWindowResize)},30)},setPosition:function($){var G=this.$21d;G.style.left=$.x+"px",G.style.top=$.y+"px"},addEventListener:function(j,I,C){this.$10d.add(j,I,C)},removeEventListener:function(e,G){this.$10d.remove(e,G)},$38d:function(w,Y,I,o){var K=s.initContext(w);s.translateAndScale(K,0,0,1),K.clearRect(0,0,I,I);var A=(I-o)/2;_.drawStretchImage(K,_.getImage(Y),"fill",0,A,o,o),K.restore()},$33d:function(){var y=this,D=y._config,h=y.$16d,J=D.maximized?_.dialogRestoreIcon:_.dialogMaximizeIcon;if(h&&J){var H=y.$25d(),Y=y.$24d();y.$38d(h,_.getImage(J),H,Y)}},$39d:function(){var h=this,s=h._config,t=h.$14d,G=s.titleIcon;if(t&&G){var o=h.$25d(),R=h.$24d();h.$38d(t,_.getImage(G),o,R)}},$40d:function(){var C=this,S=C.$18d,V=_.dialogCloseIcon;if(S&&V){var i=C.$25d(),c=C.$24d();C.$38d(S,_.getImage(V),i,c)}},invalidate:function(v){var r=this,c=r.$42d;r._68I||(r._68I=1,_.callLater(r.validate,r,o,v),r.onInvalidated&&r.onInvalidated(),r.fireViewEvent("invalidate"));var Y=r._config.content;Y.invalidate&&Y.invalidate(),c&&c.forEach(function(M){M.iv()})},validateImpl:function(){var J=this;J.$40d(),J.$33d(),J.$39d();var c=J._config.content;c.initView&&(c.setX(0),c.setY(0),c.setWidth(J.$7d.clientWidth),c.setHeight(J.$7d.clientHeight))},adjustPosition:function(u,$,h){var U=$.width,w=$.height,i=h.width,S=h.height,e=u.x,E=u.y,G=this._config,v=G.minDragSize||20;return"inside"===G.dragMode?(e+U>i&&(e=i-U),E+w>S&&(E=S-w),0>e&&(e=0),0>E&&(E=0)):(null==G.dragMode||"none"===G.dragMode)&&(-U+v>e&&(e=-U+v),e>i-v&&(e=i-v),E>S-v&&(E=S-v),0>E&&(E=0)),{x:e,y:E}}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);