!function(k,L){"use strict";var a="ht",S=k[a],z="innerHTML",Z="className",t=null,i="px",w=S.Default,p=w.getInternal(),B="0",o=function(){return document},K=function(y){return o().createElement(y)},h=function(){return K("canvas")},l=function(w,U,V){w.style.setProperty(U,V,t)},R=function(M,A,_){w.def(S.widget[M],A,_)},Q=function(R,M){R.appendChild(M)},V=function(n,y){n.removeChild(y)},I=w.eventListenerOptionsFalse,N=(w.eventListenerOptionsTrue,function(c,S,N,a){c.addEventListener(S,N,a?I:I)}),$=function(K,j,P,M){K.removeEventListener(j,P,M?I:I)},E=w.isTouchable;p.addMethod(w,{menuLabelFont:(E?"16":"13")+"px arial, sans-serif",menuLabelColor:"#000",menuBackground:"#F0EFEE",menuHoverBackground:"#648BFE",menuHoverLabelColor:"#fff",menuSeparatorWidth:1,menuSeparatorColor:"#999"},!0),S.widget.Menu=function(t){var c=this,P=c._view=p.createView(null,c),f=c.$1g=new S.widget.ContextMenu,u=K("ul");f._r=!0,f._view[Z]+=" ht-widget-dropdownmenu",P[Z]="ht-widget-menu",u[Z]="header",l(P,"margin",B),l(P,"padding",B),l(P,"background",w.menuBackground),l(P,"-webkit-user-select","none"),l(P,"-moz-user-select","none"),l(P,"user-select","none"),l(P,"text-align","left"),l(P,"border-bottom",w.menuSeparatorWidth+"px solid "+w.menuSeparatorColor),l(P,"cursor","default"),l(P,"overflow","auto"),l(P,"white-space","nowrap"),l(P,"font",w.menuLabelFont),l(P,"color",w.menuLabelColor),l(P,"box-sizing","border-box"),l(P,"-moz-box-sizing","border-box"),l(u,"list-style","none"),l(u,"margin",B),l(u,"padding",B),l(u,"display","inline-block"),Q(P,u),c.setItems(t),c.$2g=function(Q){c.$3g(Q)},c.$4g=function(Q){c.$5g(Q)},c.$6g=function(f){c.$7g(f)},c.$8g=function(q){c.$9g(q)},c.$9b=function(d){c.$10g(d)},c._autoShow=!0,c.setAutoShow(!1),f.afterHide=function(){c.$11g()},f.afterShow=function(){c.$12g()},$(o(),"keydown",f.$3b),c.$3b=function(i){c.$13g(i)},c.invalidate()},R("Menu",L,{_items:t,$14g:w.menuHoverBackground,$15g:w.menuHoverLabelColor,$16g:{},_enableGlobalKey:!1,ms_v:1,$21g:"smallicons",$22g:0,$23g:0,$24g:"left",getDropDownMenu:function(){return this.$1g},setLayout:function(q){var M=this;if(M.$21g=q,M.setItems(M._items),"largeicons"===q){for(var J=M._view.querySelectorAll(".header-item"),Z=0,o=0;o<J.length;o++){var H=J[o];Z=Math.max(Z,H.clientWidth)}for(var o=0;o<J.length;o++){var H=J[o];l(H,"min-width",Z+i)}}this.invalidate()},getLayout:function(){return this.$21g},setHeaderItemHGap:function(R){this.$22g=R;for(var e=this._view.querySelectorAll(".header-item"),d=0;d<e.length;d++){var c=e[d];l(c,"margin-left",R+i),l(c,"margin-right",R+i)}},getHeaderItemHGap:function(){return this.$22g},setHeaderItemVGap:function(L){this.$23g=L;for(var I=this._view.querySelectorAll(".header-item"),n=0;n<I.length;n++){var q=I[n];l(q,"margin-top",L+i),l(q,"margin-bottom",L+i)}},getHeaderItemVGap:function(){return this.$24g},setHeaderItemAlign:function(d){this.$24g=d,l(this._view,"text-align",d)},getHeaderItemAlign:function(){return this.$23g},enableGlobalKey:function(){var t=this,f=t._enableGlobalKey;f===!1&&(N(o(),"keydown",t.$3b),t._enableGlobalKey=!0)},disableGlobalKey:function(){this._enableGlobalKey=!1,$(o(),"keydown",this.$3b)},setHoverBackground:function(W){this.$14g=W},setHoverColor:function(q){this.$15g=q},setItems:function(W){var V=this,i=V._view,d=V.$21g;if(V._items=W,i.children[0][z]="",V.$16g={},W&&W.length){for(var L=i.children[0],Y=0,U=o().createDocumentFragment();Y<W.length;Y++){var J=W[Y],X=K("li"),S=K("span");if(J.icon){var j=h();j[Z]="menu-item-icon","smallicons"===d?(l(j,"height","1.2em"),l(j,"width","1.2em"),l(j,"vertical-align","middle")):(l(j,"height","32px"),l(j,"width","32px"),l(j,"display","block"),l(j,"margin","0 auto")),j.$20g=J.icon,Q(X,j)}X[Z]="header-item",l(X,"display","inline-block"),l(X,"vertical-align","top"),l(X,"padding","0 1.2em"),l(X,"line-height","1.8em"),"largeicons"===d&&l(X,"text-align","center"),l(X,"background-color","rgba(0,0,0,0)"),X.setAttribute("data-index",Y),V.$16g[Y]=J.items,S[z]=J.label,"iconsonly"!==d&&Q(X,S),Q(U,X)}Q(L,U)}},showDropdownMenu:function(B){var J=this,F=J.$16g[B],R=J.$1g,h=J._view.children[0].children[B],L=J.$17g;if(h&&h!==L){L&&J.hideDropdownMenu();var c=h.getBoundingClientRect(),o=w.getWindowInfo();J.$17g=h,R.setItems(F),R.show(c.left+o.left,c.top+c.height+o.top,!1)}},hideDropdownMenu:function(){this.$1g.hide()},getItemByProperty:function($,o){var B=this,_=B._items;return _&&0!==_.length?B.$1g.getItemByProperty($,o,_):t},$12g:function(){var G=this,K=G.$17g;K.style.background=G.$14g,K.style.color=G.$15g,G._autoShow||N(o(),E?"touchstart":"mousedown",G.$9b)},$11g:function(){var L=this,T=L.$17g;T&&(T.style.background="",T.style.color="",L.$17g=t),$(o(),E?"touchstart":"mousedown",L.$9b)},$10g:function(X){var S=this,R=S._view,Z=S.$1g,b=R.children[0];!o().body.contains(R)||b.contains(X.target)||Z._view.contains(X.target)||S.hideDropdownMenu()},$13g:function(u){var y=this,K=y.$1g;o().body.contains(y._view)&&K.$13b.$4b.call(K.$13b,u,y._items)},setAutoShow:function(R){var u=this,G=u.$1g,V=u._view;u._autoShow!==R&&(u._autoShow?($(V,"mouseover",u.$2g),$(V,"mouseout",u.$4g),$(G._view,"mouseout",u.$4g),E||(N(V,"mouseover",u.$8g),N(V,"mouseout",u.$8g)),N(V,E?"touchstart":"mousedown",u.$6g)):($(V,"mouseover",u.$8g),$(V,"mouseout",u.$8g),$(V,E?"touchstart":"mousedown",u.$6g),$(o(),E?"touchstart":"mousedown",u.$9b),E||(N(V,"mouseover",u.$2g),N(V,"mouseout",u.$4g),N(G._view,"mouseout",u.$4g))),u._autoShow=R)},$3g:function(P){var f=this,d=f._view.children[0],g=P.target;if(d!==g&&d.contains(g)){for(;"header-item"!==g[Z];)g=g.parentNode;f.showDropdownMenu(g.getAttribute("data-index"))}},$5g:function(R){var B=this,M=B._view.children[0],I=B.$1g,g=R.target,H=R.relatedTarget;!M.contains(g)&&!I._view.contains(g)||M.contains(H)||I._view.contains(H)||B.hideDropdownMenu()},$7g:function(B){B.preventDefault();var R=this,f=R._view.children[0],r=R.$1g,K=B.target;if(w.isLeftButton(B)&&f!==K&&f.contains(K))if(E){for(;"header-item"!==K[Z];)K=K.parentNode;var T=K.getAttribute("data-index"),r=R.$1g,D=R._view.children[0].children[T],I=R.$17g;r.isShowing()&&R.hideDropdownMenu(),D!==I&&R.showDropdownMenu(T)}else if(r.isShowing())R.hideDropdownMenu();else{for(;"header-item"!==K[Z];)K=K.parentNode;R.showDropdownMenu(K.getAttribute("data-index"))}},$9g:function(R){var W=this,O=W._view,e=W.$1g,G=R.target;if(O.contains(G)){for(var v=O.querySelectorAll(".header-item"),F=t,C=0;C<v.length;C++){var r=v[C];r.style.background="",r.style.color="","mouseover"===R.type?r.contains(G)&&(F=r):"mouseout"===R.type&&e.isShowing()&&W.$17g===r&&(F=r)}e.isShowing()&&(F||(F=W.$17g),W.showDropdownMenu(F.getAttribute("data-index"))),F&&(F.style.background=W.$14g,F.style.color=W.$15g)}},getShowingMenuIndex:function(){var l=this.$17g;return l?l.getAttribute("data-index"):-1},addTo:function(K){var F=this,c=F._view;Q(K,c),F.invalidate()},dispose:function(){var U=this,N=U._view,k=U.$1g;N&&(U._autoShow?($(N,"mouseover",U.$2g),$(N,"mouseout",U.$4g),$(k._view,"mouseout",U.$4g)):($(N,"mouseover",U.$8g),$(N,"mouseout",U.$8g),$(N,E?"touchstart":"mousedown",U.$6g),$(o(),E?"touchstart":"mousedown",U.$9b)),$(o(),"keydown",U.$3b),k.dispose(),N.parentNode&&V(N.parentNode,N),U._view=U.$1g=U.$16g=U._items=U.$17g=U.$2g=U.$4g=U.$6g=U.$8g=U.$9b=U.$3b=t)},$19g:function(F,q,t,v){var e=p.initContext(F);p.translateAndScale(e,0,0,1),e.clearRect(0,0,t,v),w.drawStretchImage(e,w.getImage(q),"fill",0,0,t,v),e.restore()},validateImpl:function(){var $,L,M,h=this,t=h._view,Y=t.querySelectorAll(".menu-item-icon");for(M=0;M<Y.length;M++){var e=Y[M];$=e.clientWidth,L=e.clientHeight,$&&L&&(p.setCanvas(e,$,L),h.$19g(e,w.getImage(e.$20g),$,L))}}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);